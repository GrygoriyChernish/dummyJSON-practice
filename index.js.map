{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/modal.js","../src/js/recipes-api.js","../src/js/render-functions.js","../src/js/state.js","../src/js/handlers.js","../src/main.js"],"sourcesContent":["export const refs = {\n  recipesList: document.querySelector('.recipes-list'),\n  backdrop: document.querySelector('.backdrop'),\n  modal: document.querySelector('.modal'),\n};\n","import { onEscPress } from './handlers';\nimport { refs } from './refs';\n\nexport function openModal() {\n  refs.backdrop.classList.remove('is-hidden');\n  document.addEventListener('keydown', onEscPress);\n}\n\nexport function closeModal() {\n  refs.backdrop.classList.add('is-hidden');\n  document.removeEventListener('keydown', onEscPress);\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://dummyjson.com/recipes';\n\nexport async function getAllRecipes() {\n  const { data } = await axios();\n  return data;\n}\n\nexport async function getRecipeById(id) {\n  const { data } = await axios(`/${id}`);\n  return data;\n}\n","import { refs } from './refs';\n\nexport function renderRecipesList(recipes, element) {\n  const markup = recipes\n    .map(\n      ({ image, cookTimeMinutes, cuisine, name, difficulty, id }) => `\n  <li class=\"recipes-list-item\">\n        <img src=\"${image}\" alt=\"${name}\" data-id=\"${id}\">\n        <div>\n          <p>${name}</p>\n          <p>Cuisine: ${cuisine}</p>\n          <p>Difficulty: ${difficulty}</p>\n          <p>CookTime: ${cookTimeMinutes}</p>\n        </div>\n      </li>\n  `\n    )\n    .join('');\n  element.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderRecipeInModal({\n  image,\n  name,\n  ingredients,\n  instructions,\n}) {\n  const markup = `<img class=\"modal-img\" src=\"${image}\" alt=\"${name}\" />\n      <div class=\"recipe-info\">\n        <p>${name}</p>\n        <p>Ingredients: ${ingredients.join(',')}</p>\n        <p>Instructions:</p>\n        <ol>${instructions.map(item => `<li>${item}</li>`).join('')}</ol>\n       <button class=\"add-to-favorites\" type=\"button\">Add to favorites</button>\n      <button class=\"modal-close-btn\" type=\"button\">X</button>\n      </div>`;\n  refs.modal.innerHTML = markup;\n}\n","export const state = {\n  favorites: JSON.parse(localStorage.getItem('favorites')) ?? [],\n  recipe: {},\n};\n","import { closeModal, openModal } from './modal';\nimport { getRecipeById } from './recipes-api';\nimport { renderRecipeInModal } from './render-functions';\nimport { state } from './state';\n\nexport function onEscPress(evt) {\n  if (evt.code !== 'Escape') {\n    return;\n  }\n  closeModal();\n}\n\nexport async function onRecipesItemClick(evt) {\n  if (evt.target.nodeName !== 'IMG') {\n    return;\n  }\n  openModal();\n  const id = evt.target.dataset.id;\n  const recipe = await getRecipeById(id);\n  renderRecipeInModal(recipe);\n  const addToFavoritesBtn = document.querySelector('.add-to-favorites');\n  addToFavoritesBtn.addEventListener('click', evt => {\n    addToFavorite(recipe, evt);\n  });\n  console.log(addToFavoritesBtn);\n}\n\nexport function onBackdropClick(evt) {\n  if (evt.target === evt.currentTarget) {\n    closeModal();\n  }\n\n  if (evt.target.classList.contains('modal-close-btn')) {\n    closeModal();\n  }\n}\n\nfunction addToFavorite(recipe, evt) {\n  if (evt.target.textContent === 'Add to favorites') {\n    state.favorites.push(recipe);\n    localStorage.setItem('favorites', JSON.stringify(state.favorites));\n  } else {\n  }\n}\n","import { onBackdropClick, onRecipesItemClick } from './js/handlers';\nimport { getAllRecipes } from './js/recipes-api';\nimport { refs } from './js/refs';\nimport { renderRecipesList } from './js/render-functions';\n\ndocument.addEventListener('DOMContentLoaded', async evt => {\n  try {\n    const { recipes } = await getAllRecipes();\n    renderRecipesList(recipes, refs.recipesList);\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nrefs.recipesList.addEventListener('click', onRecipesItemClick);\nrefs.backdrop.addEventListener('click', onBackdropClick);\n"],"names":["refs","openModal","onEscPress","closeModal","axios","getAllRecipes","data","getRecipeById","id","renderRecipesList","recipes","element","markup","image","cookTimeMinutes","cuisine","name","difficulty","renderRecipeInModal","ingredients","instructions","item","state","evt","onRecipesItemClick","recipe","addToFavoritesBtn","addToFavorite","onBackdropClick","error"],"mappings":"0xBAAO,MAAMA,EAAO,CAClB,YAAa,SAAS,cAAc,eAAe,EACnD,SAAU,SAAS,cAAc,WAAW,EAC5C,MAAO,SAAS,cAAc,QAAQ,CACxC,ECDO,SAASC,GAAY,CAC1BD,EAAK,SAAS,UAAU,OAAO,WAAW,EAC1C,SAAS,iBAAiB,UAAWE,CAAU,CACjD,CAEO,SAASC,GAAa,CAC3BH,EAAK,SAAS,UAAU,IAAI,WAAW,EACvC,SAAS,oBAAoB,UAAWE,CAAU,CACpD,CCTAE,EAAM,SAAS,QAAU,gCAElB,eAAeC,GAAgB,CACpC,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMF,IACvB,OAAOE,CACT,CAEO,eAAeC,EAAcC,EAAI,CACtC,KAAM,CAAE,KAAAF,CAAI,EAAK,MAAMF,EAAM,IAAII,CAAE,EAAE,EACrC,OAAOF,CACT,CCVO,SAASG,EAAkBC,EAASC,EAAS,CAClD,MAAMC,EAASF,EACZ,IACC,CAAC,CAAE,MAAAG,EAAO,gBAAAC,EAAiB,QAAAC,EAAS,KAAAC,EAAM,WAAAC,EAAY,GAAAT,CAAE,IAAO;AAAA;AAAA,oBAEjDK,CAAK,UAAUG,CAAI,cAAcR,CAAE;AAAA;AAAA,eAExCQ,CAAI;AAAA,wBACKD,CAAO;AAAA,2BACJE,CAAU;AAAA,yBACZH,CAAe;AAAA;AAAA;AAAA,GAInC,EACA,KAAK,EAAE,EACVH,EAAQ,mBAAmB,YAAaC,CAAM,CAChD,CAEO,SAASM,EAAoB,CAClC,MAAAL,EACA,KAAAG,EACA,YAAAG,EACA,aAAAC,CACF,EAAG,CACD,MAAMR,EAAS,+BAA+BC,CAAK,UAAUG,CAAI;AAAA;AAAA,aAEtDA,CAAI;AAAA,0BACSG,EAAY,KAAK,GAAG,CAAC;AAAA;AAAA,cAEjCC,EAAa,IAAIC,GAAQ,OAAOA,CAAI,OAAO,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA,cAIjErB,EAAK,MAAM,UAAYY,CACzB,CCrCO,MAAMU,EAAQ,CACnB,UAAW,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,GAAK,CAAE,EAC9D,OAAQ,CAAE,CACZ,ECEO,SAASpB,EAAWqB,EAAK,CAC1BA,EAAI,OAAS,UAGjBpB,GACF,CAEO,eAAeqB,EAAmBD,EAAK,CAC5C,GAAIA,EAAI,OAAO,WAAa,MAC1B,OAEFtB,IACA,MAAMO,EAAKe,EAAI,OAAO,QAAQ,GACxBE,EAAS,MAAMlB,EAAcC,CAAE,EACrCU,EAAoBO,CAAM,EAC1B,MAAMC,EAAoB,SAAS,cAAc,mBAAmB,EACpEA,EAAkB,iBAAiB,QAASH,GAAO,CACjDI,EAAcF,EAAQF,CAAG,CAC7B,CAAG,EACD,QAAQ,IAAIG,CAAiB,CAC/B,CAEO,SAASE,EAAgBL,EAAK,CAC/BA,EAAI,SAAWA,EAAI,eACrBpB,IAGEoB,EAAI,OAAO,UAAU,SAAS,iBAAiB,GACjDpB,GAEJ,CAEA,SAASwB,EAAcF,EAAQF,EAAK,CAC9BA,EAAI,OAAO,cAAgB,qBAC7BD,EAAM,UAAU,KAAKG,CAAM,EAC3B,aAAa,QAAQ,YAAa,KAAK,UAAUH,EAAM,SAAS,CAAC,EAGrE,CCtCA,SAAS,iBAAiB,mBAAoB,MAAMC,GAAO,CACzD,GAAI,CACF,KAAM,CAAE,QAAAb,CAAO,EAAK,MAAML,IAC1BI,EAAkBC,EAASV,EAAK,WAAW,CAC5C,OAAQ6B,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAAC,EAED7B,EAAK,YAAY,iBAAiB,QAASwB,CAAkB,EAC7DxB,EAAK,SAAS,iBAAiB,QAAS4B,CAAe"}